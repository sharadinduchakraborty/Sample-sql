SET SERVEROUTPUT ON
CREATE OR REPLACE FUNCTION LETTER(L IN VARCHAR) RETURN NUMBER
IS
NAM EMP.ENAME%TYPE;
CURSOR S (V VARCHAR) IS SELECT ENAME FROM EMP WHERE ENAME LIKE '%L%';
E EXCEPTION;
C NUMBER;
OPEN S('L');
FETCH S INTO NAM;
IF (S%NOTFOUND) THEN
RAISE E;
END IF;
DBMS_OUTPUT.PUT_LINE('EMP NAME');
DBMS_OUTPUT.PUT_LINE('-------------');
LOOP
DBMS_OUTPUT.PUT_LINE(NAM);
C:=S%ROWCOUNT;
FETCH S INTO NAM;
EXIT WHEN S%NOTFOUND;
END LOOP;
EXCEPTION 
WHEN E THEN
DBMS_OUTPUT.PUT_LINE('INVALID LETTER');

RETURN C;
END;
/
