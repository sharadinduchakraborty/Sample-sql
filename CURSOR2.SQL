SET SERVEROUTPUT ON
DECLARE
 X NUMBER;
 Y NUMBER;
 J EMP.JOB% TYPE;
 ENO EMP.EMPNO% TYPE;
 NM  EMP.ENAME%TYPE;
 V EMP.SAL% TYPE;

CURSOR S(D VARCHAR) IS SELECT EMPNO,ENAME,SAL FROM EMP WHERE JOB=D;
E EXCEPTION;
BEGIN
J:='&U';
OPEN S(J);
X:=0;
Y:=0;
FETCH S INTO ENO,NM,V;
IF(S%NOTFOUND) THEN 
RAISE E;
END IF;
DBMS_OUTPUT.PUT_LINE('EMPNO'||'		'||'ENAME'||'	'||'SAL');
DBMS_OUTPUT.PUT_LINE('------------------------------------');
LOOP
DBMS_OUTPUT.PUT_LINE(ENO||'		'||NM||'		'||V);
X:=X+V;
Y:=Y+1;
FETCH S INTO ENO,NM,V;
EXIT WHEN S%NOTFOUND;
END LOOP;
DBMS_OUTPUT.PUT_LINE('------------------------------------');
DBMS_OUTPUT.PUT_LINE('TOTAL NUMBER OF EMPLOYEE='||Y);
DBMS_OUTPUT.PUT_LINE('TOTAL SALARY='||X);
DBMS_OUTPUT.PUT_LINE('------------------------------------');
CLOSE S;
EXCEPTION
WHEN E THEN
DBMS_OUTPUT.PUT_LINE('INVALID JOB');
END;
/